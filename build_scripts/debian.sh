#!/bin/bash

# This script is intended to be run on a clean Debian install.
# It installs a few extra tools and changes a few settings
# If you are using Kali, consider running kali.sh instead, which runs this script
# and then adds some additional packages and tools.

# Re-run with sudo if we're not root
if [[ $EUID -ne 0 ]];
then
    echo "Root privileges required, re-running with sudo"
    exec sudo "$0"
    exit
fi

# Packages
apt update
apt install -y  apt-file bc chrony curl git ipcalc jq htop mtr nmap p7zip-full python-netaddr python-dnspython python3-netaddr python3-dnspython python3-git reptyr screen subversion sudo tmux tree vim whois zsh
apt autoremove -y
apt autoclean
apt-file update

# Chrony
sed -i "s/makestep 1 3/makestep 1 -1/" /etc/chrony/chrony.conf
systemctl restart chrony.service

# Update script
ln $(dirname $0)/scripts/updatetools.sh /usr/local/sbin/updatetools.sh

# Colour Wrapper
ln $(dirname $0)/cw ~/.cw
