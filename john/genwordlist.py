#!/usr/bin/env python3

# Simple script to generate a sorted unique wordlist from an input file
# Usage: $ ./genwordlist.py <inputfile>
# Saves output to wordlist.txt
# Saves output to wordlist.txt if not outfile specified

import re
import sys

wordlist = set()
with open(sys.argv[1]) as f:
    lines = f.readlines()
for line in lines:
    words = re.findall("[a-zA-Z0-9]+", line)
    for word in words:
        if not word.isdigit():
            wordlist.add(word)

wordlist = sorted(wordlist, key=lambda s: s.lower())
try:
    outfile = sys.argv[2]
except IndexError:
    outfile = "wordlist.txt"
f = open(outfile, "w")
for word in wordlist:
    f.write(word + "\n")
print(f"Wrote {str(len(wordlist))} words to {outfile}")
